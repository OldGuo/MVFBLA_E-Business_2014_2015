{% extends 'base.html' %}
{% load staticfiles %}

{% block title %}
	<title>settings - craftnet</title>
{% endblock %}

{% block page_css %}
<!--
	<link rel="stylesheet" type="text/css" href="{% static 'css/account-settings.css' %}"/>
-->
{% endblock %}

{% block content %}
	<div class="container">
		<div class="row">
			<div class="col-md-3 sidebar">
				<div class="profile-information blockbg">
					<h1 class="rowheader">{{user.first_name}} {{user.last_name}}</h1>
					<div class="profPic" style="background-image:url('{% if userinfo.profile_picture %}{{MEDIA_ROOT}}{{userinfo.profile_picture.url}}{% else %}{% static 'files/default-profile.jpg' %}{% endif %}')"></div>
					<ul class="nav nav-pills nav-stacked" role="tablist">
						<li role="presentation" class="active"><a href="#">Account</a></li>
			  			<li role="presentation"><a href="#">Preferences</a></li>
			  			<li role="presentation"><a href="#">Privacy & Security</a></li>
			  			<li role="presentation"><a href="#">Payment Options</a></li>
					</ul>
				</div>
			</div>
			<div class="col-md-9">
				<form id="generalform" class="" action="/acc/pUpdate/" method="POST" enctype="multipart/form-data">
					<div class="panel panel-default">
						<div class="panel-heading">
							<h3 class="panel-title">GENERAL SETTINGS</h3>
						</div>
						<div class="panel-body">
							{% csrf_token %}
							<div class="form-group">
							    <label for="pic">Change Current Picture</label>
							    <input type="file" name="pic" id="pic">
							</div>
							<div class="form-group">
							    <label for="firstname">First Name</label>
							    <input class="form-control half-input" id="firstname" name="firstname" value="{{user.first_name}}" required/>
							</div>
							<div class="form-group">
							    <label for="lastname">Last Name</label>
							    <input class="form-control half-input" id="lastname" name="lastname" value="{{user.last_name}}" required/>
							</div>
							<div class="form-group">
							    <label for="email">Email</label>
								<input id="email" class="form-control" name="email" value="{{user.email}}" required/>
							</div>
							<div class="form-group">
							    <label for="phonenumber">Phone Number</label>
							    <input id="phonenumber" class="form-control" name="phonenumber" value="{{userinfo.phonenumber}}" required/>
							</div>
							<div class="form-group">
							    <label for="bio">Bio</label>
							    <textarea class="form-control" id="bio" rows="5" name="bio" placeholder="Tell us a little about yourself! e.g. Hi, I'm an artist!" required>{{userinfo.bio}}</textarea>
							</div>
						</div>
						<div class="panel-footer">
							<input type="submit" value="Save" class="btn" />
						</div>				
					</div>
				<!--</form>
				<form id="generalform" class="" action="/acc/pUpdate/" method="POST" enctype="multipart/form-data">-->
					<div class="panel panel-default">
						<div class="panel-heading">
							<h3 class="panel-title">CHANGE PASSWORD</h3>
						</div>
						<div class="panel-body">
							{% csrf_token %}
							<div class="form-group">
							    <label for="firstname">Old Password</label>
							    <input class="form-control " id="oldpassword" name="oldpassword" type="password" required/>
							</div>
							<div class="form-group">
							    <label for="lastname">New Password</label>
							    <input class="form-control" id="password" name="password" type="password" required/>
							</div>
							<div class="form-group">
							    <label for="lastname">New Password Again</label>
							    <input class="form-control" id="passwordagain" name="passwordagain" type="password" required/>
							</div>
						</div>
						<div class="panel-footer">
							<input type="submit" value="Save" class="btn" />
						</div>
					</div>
				</form>
				<!--BEGINNING OF FORM FOR CHANGING ADDRESS-->
				<div class = "panel panel-default">
					<form class = "form-horizontal" method = "post" action = "/acc/changeAddress/">
						<div class="panel-heading">
							<h3 class="panel-title">CHANGE ADDRESS</h3>
						</div>
						{% csrf_token %}
						<div class = "panel-body">
							<div class = "form-group">
								<label for = "country" class = "col-sm-3 control-label">Country : </label>
								<div class = "col-sm-9">
									<input type = "text" class = "form-control" name = "country" value = "{{address.country}}"required>
								</div>
							</div>
							<div class = "form-group ">
								<label for = "street" class = "col-sm-3 control-label">Street : </label>
								<div class = "col-sm-9">
									<input type = "text" class = "form-control" name = "street" value = "{{address.street}}" required>
								</div>
							</div>
							<div class = "form-group">
								<label for = "aptsuiteother" class = "col-sm-3 control-label">Apt / Suite / Other : </label>
								<div class = "col-sm-9">
									<input type = "text" class = "form-control" name = "aptsuiteother" value = "{{address.aptsuiteother}}">
								</div>
							</div>
							<div class = "form-group">
								<label for = "zipcode" class = "col-sm-3 control-label">Zip Code : </label>
								<div class = "col-sm-9">
									<input type = "text" class = "form-control" name = "zipcode" value = "{{address.zipcode}}" required>
								</div>
							</div>
							<div class = "form-group">
								<label for = "city" class = "col-sm-3 control-label">City : </label>
								<div class = "col-sm-9">
									<input type = "text" class = "form-control" name = "city" value = "{{address.city}}" required>
								</div>
							</div>
							<div class = "form-group">
								<label for = "state" class = "col-sm-3 control-label">State : </label>
								<div class = "col-sm-9">
									<input type = "text" class = "form-control" name = "state" value = "{{address.state}}" required>
								</div>
							</div>

							<div class = "form-group" >
								<div class = "col-sm-offset-2 col-sm-3">
									<button type = "submit" class = "btn btn-default" id = "shipfilled">Change to this address</button>
								</div>
							</div>
						</div>
					</form>
				</div>
				<!--END OF FORM FOR CHANGING ADDRESS-->
				<!--BEGINNING OF FORM TO CHANGE CREDIT CARD INFO-->
				<div class = "panel panel-default">
					<form class = "form-horizontal" method = "post" action = "/acc/changeCCInfo/">
						<div class="panel-heading">
							<h3 class="panel-title">CHANGE CREDIT CARD INFORMATION</h3>
						</div>
						{% csrf_token %}
						<div class = "panel-body">
							<div class = "form-group col-sm-12">
								<label for = "cardNumber" class = "col-sm-3 control-label">Card Number : </label>
								<div class = "col-sm-9">
									<input type = "text" class = "form-control" name = "cardNumber" size= "19" placeholder = "XXXX-XXXX-XXXX-XXXX" maxLength = "19" value = "{{ccinfo.cardNumber}}"required>
								</div>
							</div>
							<div class = "form-group col-sm-12" id = "expiration">
								<label for = "ExpMonth" class = "col-sm-3 control-label">Expiration Date : </label>
								<div class = "col-sm-2">
									<input type = "number" class = "form-control" name = "ExpMonth" min = "1" max = "12" placeholder = "MM" value = "{{ccinfo.monthExp}}"required>
								</div>
								<div class = "col-sm-3">
									<input type = "number" class = "form-control" name = "ExpYear" min = "2015" max = "2100" placeholder = "YYYY" value = "{{ccinfo.yearExp}}" required>
								</div>
								<div class = "col-sm-3"></div>

							</div>
							<div class = "form-group col-sm-12">
								<label for = "securityCode" class = "col-sm-3 control-label">Security Code : </label>
								<div class = "col-sm-2">
									<input type = "number" class = "form-control" name = "securityCode" min = "100" max = "999" placeholder = "XXX" value = "{{ccinfo.securityCode}}" required>
								</div>
							</div>
							<div class = "form-group col-sm-12" >
								<div class = "col-sm-offset-2 col-sm-3">
									<button type = "submit" class = "btn btn-default" id = "SubmitPaymentInfo">Change Card Info</button>
								</div>
							</div>
						</div>
					</form>
				</div>
				<!--END OF CHANGING CREDIT CARD INFO-->
				<!-- TODO: birthday, cc and shipping -->
			</div>	
		</div>
	</div>	
{% endblock %}

